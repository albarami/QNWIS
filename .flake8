[flake8]
max-line-length = 120
extend-ignore = E203,W503,C901,W293,E501
filename =
    *.py,
    src/qnwis/alerts/*.py,
    src/qnwis/monitoring/*.py,
    src/qnwis/agents/alert_center.py,
    src/qnwis/scripts/qa/ops_gate.py,
    src/qnwis/scripts/qa/determinism_scan.py,
    src/qnwis/scripts/qa/ops_notify_gate.py,
    src/qnwis/scripts/qa/rg6_resilience_gate.py,
    src/qnwis/scripts/qa/step31_slo_slice.py,
    src/qnwis/ops_console/*.py,
    src/qnwis/ops_console/*/*.py,
    src/qnwis/slo/*.py,
    grafana/dashboards/*.py,
    # JSON dashboards live here (format ignored by flake8)
    src/qnwis/notify/*.py,
    src/qnwis/notify/*/*.py,
    src/qnwis/incidents/*.py,
    src/qnwis/incidents/*/*.py,
    src/qnwis/api/routers/*.py
exclude = .venv,build,dist,docs,src/qnwis/docs,grafana/dashboards/*.json,grafana/dashboards/**/*.json
per-file-ignores =
    __init__.py:F401
    tests/*:E402,F841
    src/qnwis/cli/*.py:E402
    src/data/apis/_http.py:C901
    src/data/apis/world_bank.py:C901
    # only for reference py files:
    references/*.py: F401,F841,E402
max-complexity = 10
