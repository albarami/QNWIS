{
  "summary": {
    "total_tests": 10,
    "passed": 9,
    "failed": 1,
    "overall_accuracy_pct": 90.0,
    "by_domain": {
      "labor": {
        "passed": 2,
        "failed": 0,
        "avg_accuracy": 100.0
      },
      "economy": {
        "passed": 1,
        "failed": 1,
        "avg_accuracy": 50.0
      },
      "health": {
        "passed": 1,
        "failed": 0,
        "avg_accuracy": 100.0
      },
      "demographics": {
        "passed": 1,
        "failed": 0,
        "avg_accuracy": 100.0
      },
      "cross_domain": {
        "passed": 1,
        "failed": 0,
        "avg_accuracy": 100.0
      },
      "infrastructure": {
        "passed": 2,
        "failed": 0,
        "avg_accuracy": 100.0
      },
      "consistency": {
        "passed": 1,
        "failed": 0,
        "avg_accuracy": 100.0
      }
    },
    "duration_seconds": 46.891508,
    "failed_tests": [
      {
        "test_name": "economy_gdp_per_capita_extraction",
        "domain": "economy",
        "query": "What is Qatar's GDP per capita?",
        "expected_facts": [
          "gdp_per_capita"
        ],
        "extracted_facts": {
          "world_bank": [],
          "postgres": [
            {
              "indicator_code": "SL.TLF.CACT.FE.ZS",
              "indicator_name": "Labor force participation rate, female (% of female population 15+)",
              "value": "63.308000",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.EMP.TOTL.SP.ZS",
              "indicator_name": "Employment to population ratio, 15+, total (%)",
              "value": "87.358000",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.GDP.PCAP.EM.KD",
              "indicator_name": "GDP per person employed (constant 2017 PPP $)",
              "value": "149537.835903",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NY.GDP.MKTP.CD",
              "indicator_name": "GDP (current US$)",
              "value": "217982967032.967000",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NY.GDP.MKTP.KD.ZG",
              "indicator_name": "GDP growth (annual %)",
              "value": "2.768414",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NY.GDP.PCAP.CD",
              "indicator_name": "GDP per capita (current US$)",
              "value": "76275.907678",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NV.IND.TOTL.ZS",
              "indicator_name": "Industry, value added (% of GDP)",
              "value": "58.489800",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NV.SRV.TOTL.ZS",
              "indicator_name": "Services, value added (% of GDP)",
              "value": "45.911819",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NV.AGR.TOTL.ZS",
              "indicator_name": "Agriculture, value added (% of GDP)",
              "value": "0.288862",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
              "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
              "value": "0.211101",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SP.POP.TOTL",
              "indicator_name": "Population, total",
              "value": "2857822.000000",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SP.URB.TOTL.IN.ZS",
              "indicator_name": "Urban population (% of total population)",
              "value": "99.387000",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.UEM.TOTL.ZS",
              "indicator_name": "Unemployment, total (% of labor force)",
              "value": "0.126000",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.TLF.CACT.ZS",
              "indicator_name": "Labor force participation rate, total (% of population 15+)",
              "value": "87.468000",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.TLF.CACT.MA.ZS",
              "indicator_name": "Labor force participation rate, male (% of male population 15+)",
              "value": "95.588000",
              "year": 2024,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.TLF.CACT.FE.ZS",
              "indicator_name": "Labor force participation rate, female (% of female population 15+)",
              "value": "63.257000",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.EMP.TOTL.SP.ZS",
              "indicator_name": "Employment to population ratio, 15+, total (%)",
              "value": "87.436000",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.GDP.PCAP.EM.KD",
              "indicator_name": "GDP per person employed (constant 2017 PPP $)",
              "value": "156590.562788",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NY.GDP.MKTP.CD",
              "indicator_name": "GDP (current US$)",
              "value": "213002809340.659000",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NY.GDP.MKTP.KD.ZG",
              "indicator_name": "GDP growth (annual %)",
              "value": "1.187160",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NY.GDP.PCAP.CD",
              "indicator_name": "GDP per capita (current US$)",
              "value": "80195.874651",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NV.IND.TOTL.ZS",
              "indicator_name": "Industry, value added (% of GDP)",
              "value": "60.368051",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NV.SRV.TOTL.ZS",
              "indicator_name": "Services, value added (% of GDP)",
              "value": "45.280617",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NV.AGR.TOTL.ZS",
              "indicator_name": "Agriculture, value added (% of GDP)",
              "value": "0.292779",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SP.DYN.LE00.IN",
              "indicator_name": "Life expectancy at birth, total (years)",
              "value": "82.368000",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "IT.NET.USER.ZS",
              "indicator_name": "Individuals using the Internet (% of population)",
              "value": "99.652800",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "IT.CEL.SETS.P2",
              "indicator_name": "Mobile cellular subscriptions (per 100 people)",
              "value": "157.821000",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
              "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
              "value": "-0.222615",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SP.POP.TOTL",
              "indicator_name": "Population, total",
              "value": "2656032.000000",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SP.URB.TOTL.IN.ZS",
              "indicator_name": "Urban population (% of total population)",
              "value": "99.354000",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.UEM.TOTL.ZS",
              "indicator_name": "Unemployment, total (% of labor force)",
              "value": "0.130000",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.TLF.CACT.ZS",
              "indicator_name": "Labor force participation rate, total (% of population 15+)",
              "value": "87.550000",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.TLF.CACT.MA.ZS",
              "indicator_name": "Labor force participation rate, male (% of male population 15+)",
              "value": "95.599000",
              "year": 2023,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.TLF.CACT.FE.ZS",
              "indicator_name": "Labor force participation rate, female (% of female population 15+)",
              "value": "63.540000",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.EMP.TOTL.SP.ZS",
              "indicator_name": "Employment to population ratio, 15+, total (%)",
              "value": "87.461000",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SL.GDP.PCAP.EM.KD",
              "indicator_name": "GDP per person employed (constant 2017 PPP $)",
              "value": "154792.910814",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NY.GDP.MKTP.CD",
              "indicator_name": "GDP (current US$)",
              "value": "235709325714.286000",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NY.GDP.MKTP.KD.ZG",
              "indicator_name": "GDP growth (annual %)",
              "value": "4.185010",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NY.GDP.PCAP.CD",
              "indicator_name": "GDP per capita (current US$)",
              "value": "88701.463352",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NV.IND.TOTL.ZS",
              "indicator_name": "Industry, value added (% of GDP)",
              "value": "65.348899",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NV.SRV.TOTL.ZS",
              "indicator_name": "Services, value added (% of GDP)",
              "value": "38.541436",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NV.AGR.TOTL.ZS",
              "indicator_name": "Agriculture, value added (% of GDP)",
              "value": "0.256560",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SH.XPD.CHEX.GD.ZS",
              "indicator_name": "Current health expenditure (% of GDP)",
              "value": "2.181123",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SP.DYN.LE00.IN",
              "indicator_name": "Life expectancy at birth, total (years)",
              "value": "81.857000",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SE.TER.ENRR",
              "indicator_name": "School enrollment, tertiary (% gross)",
              "value": "35.085490",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "SE.SEC.ENRR",
              "indicator_name": "School enrollment, secondary (% gross)",
              "value": "102.968361",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "IT.NET.USER.ZS",
              "indicator_name": "Individuals using the Internet (% of population)",
              "value": "99.652800",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "IT.CEL.SETS.P2",
              "indicator_name": "Mobile cellular subscriptions (per 100 people)",
              "value": "162.249000",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NE.EXP.GNFS.ZS",
              "indicator_name": "Exports of goods and services (% of GDP)",
              "value": "68.598413",
              "year": 2022,
              "country_code": "QAT"
            },
            {
              "indicator_code": "NE.IMP.GNFS.ZS",
              "indicator_name": "Imports of goods and services (% of GDP)",
              "value": "31.615234",
              "year": 2022,
              "country_code": "QAT"
            }
          ],
          "rag": [
            [
              "<src.qnwis.rag.retriever.Document object at 0x000002172C13BF50>",
              0.5681613683700562
            ],
            [
              "<src.qnwis.rag.retriever.Document object at 0x00000217812FA050>",
              0.5291497111320496
            ],
            [
              "<src.qnwis.rag.retriever.Document object at 0x0000021781532550>",
              0.45194798707962036
            ],
            [
              "<src.qnwis.rag.retriever.Document object at 0x0000021722D281D0>",
              0.3308976888656616
            ],
            [
              "<src.qnwis.rag.retriever.Document object at 0x00000217815F4650>",
              0.3173336982727051
            ]
          ],
          "apis": [],
          "error": "cannot import name 'PrefetchLayer' from 'src.qnwis.orchestration.prefetch_apis' (D:\\lmis_int\\src\\qnwis\\orchestration\\prefetch_apis.py)"
        },
        "accuracy_score": 0.0,
        "passed": false,
        "details": {
          "matched": [],
          "mismatched": [
            {
              "fact": "gdp_per_capita",
              "expected": 87660,
              "actual": 76275.907678,
              "deviation_pct": 12.98664421857175,
              "tolerance": 5.0
            }
          ],
          "missing": []
        },
        "error": null,
        "timestamp": "2025-11-25T16:37:48.660663"
      }
    ]
  },
  "all_results": [
    {
      "test_name": "labor_unemployment_extraction",
      "domain": "labor",
      "query": "What is Qatar's unemployment rate?",
      "expected_facts": [
        "unemployment_rate"
      ],
      "extracted_facts": {
        "world_bank": [],
        "postgres": [
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.308000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.358000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "149537.835903",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "217982967032.967000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "2.768414",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "76275.907678",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "58.489800",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.911819",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.288862",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "0.211101",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2857822.000000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.387000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.126000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.468000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.588000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.257000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.436000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "156590.562788",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "213002809340.659000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "1.187160",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "80195.874651",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "60.368051",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.280617",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.292779",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "82.368000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "157.821000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "-0.222615",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2656032.000000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.354000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.130000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.550000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.599000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.540000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.461000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "154792.910814",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "235709325714.286000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "4.185010",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "88701.463352",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "65.348899",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "38.541436",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.256560",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SH.XPD.CHEX.GD.ZS",
            "indicator_name": "Current health expenditure (% of GDP)",
            "value": "2.181123",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "81.857000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.TER.ENRR",
            "indicator_name": "School enrollment, tertiary (% gross)",
            "value": "35.085490",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.SEC.ENRR",
            "indicator_name": "School enrollment, secondary (% gross)",
            "value": "102.968361",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "162.249000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.EXP.GNFS.ZS",
            "indicator_name": "Exports of goods and services (% of GDP)",
            "value": "68.598413",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.IMP.GNFS.ZS",
            "indicator_name": "Imports of goods and services (% of GDP)",
            "value": "31.615234",
            "year": 2022,
            "country_code": "QAT"
          }
        ],
        "rag": [
          [
            "<src.qnwis.rag.retriever.Document object at 0x000002172C13BF50>",
            0.571617603302002
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217812FA050>",
            0.5513118505477905
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021781532550>",
            0.5438703894615173
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021722D281D0>",
            0.4796242117881775
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217815F4650>",
            0.37581419944763184
          ]
        ],
        "apis": [],
        "error": "cannot import name 'PrefetchLayer' from 'src.qnwis.orchestration.prefetch_apis' (D:\\lmis_int\\src\\qnwis\\orchestration\\prefetch_apis.py)"
      },
      "accuracy_score": 100.0,
      "passed": true,
      "details": {
        "matched": [
          {
            "fact": "unemployment_rate",
            "expected": 0.1,
            "actual": 0.126,
            "deviation_pct": 25.999999999999996
          }
        ],
        "mismatched": [],
        "missing": []
      },
      "error": null,
      "timestamp": "2025-11-25T16:37:48.449143"
    },
    {
      "test_name": "labor_participation_extraction",
      "domain": "labor",
      "query": "What is the labor force participation rate in Qatar?",
      "expected_facts": [
        "labor_force_participation"
      ],
      "extracted_facts": {
        "world_bank": [],
        "postgres": [
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.308000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.358000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "149537.835903",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "217982967032.967000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "2.768414",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "76275.907678",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "58.489800",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.911819",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.288862",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "0.211101",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2857822.000000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.387000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.126000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.468000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.588000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.257000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.436000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "156590.562788",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "213002809340.659000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "1.187160",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "80195.874651",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "60.368051",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.280617",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.292779",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "82.368000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "157.821000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "-0.222615",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2656032.000000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.354000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.130000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.550000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.599000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.540000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.461000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "154792.910814",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "235709325714.286000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "4.185010",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "88701.463352",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "65.348899",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "38.541436",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.256560",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SH.XPD.CHEX.GD.ZS",
            "indicator_name": "Current health expenditure (% of GDP)",
            "value": "2.181123",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "81.857000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.TER.ENRR",
            "indicator_name": "School enrollment, tertiary (% gross)",
            "value": "35.085490",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.SEC.ENRR",
            "indicator_name": "School enrollment, secondary (% gross)",
            "value": "102.968361",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "162.249000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.EXP.GNFS.ZS",
            "indicator_name": "Exports of goods and services (% of GDP)",
            "value": "68.598413",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.IMP.GNFS.ZS",
            "indicator_name": "Imports of goods and services (% of GDP)",
            "value": "31.615234",
            "year": 2022,
            "country_code": "QAT"
          }
        ],
        "rag": [
          [
            "<src.qnwis.rag.retriever.Document object at 0x000002172C13BF50>",
            0.5572530627250671
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217812FA050>",
            0.5476483106613159
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021781532550>",
            0.524095892906189
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021722D281D0>",
            0.4935941696166992
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217815F4650>",
            0.4416735768318176
          ]
        ],
        "apis": [],
        "error": "cannot import name 'PrefetchLayer' from 'src.qnwis.orchestration.prefetch_apis' (D:\\lmis_int\\src\\qnwis\\orchestration\\prefetch_apis.py)"
      },
      "accuracy_score": 100.0,
      "passed": true,
      "details": {
        "matched": [
          {
            "fact": "labor_force_participation",
            "expected": 87.8,
            "actual": 87.468,
            "deviation_pct": 0.3781321184510178
          }
        ],
        "mismatched": [],
        "missing": []
      },
      "error": null,
      "timestamp": "2025-11-25T16:37:48.523021"
    },
    {
      "test_name": "economy_gdp_extraction",
      "domain": "economy",
      "query": "What is Qatar's GDP?",
      "expected_facts": [
        "gdp_current_usd"
      ],
      "extracted_facts": {
        "world_bank": [],
        "postgres": [
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.308000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.358000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "149537.835903",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "217982967032.967000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "2.768414",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "76275.907678",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "58.489800",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.911819",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.288862",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "0.211101",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2857822.000000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.387000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.126000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.468000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.588000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.257000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.436000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "156590.562788",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "213002809340.659000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "1.187160",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "80195.874651",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "60.368051",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.280617",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.292779",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "82.368000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "157.821000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "-0.222615",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2656032.000000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.354000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.130000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.550000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.599000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.540000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.461000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "154792.910814",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "235709325714.286000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "4.185010",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "88701.463352",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "65.348899",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "38.541436",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.256560",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SH.XPD.CHEX.GD.ZS",
            "indicator_name": "Current health expenditure (% of GDP)",
            "value": "2.181123",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "81.857000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.TER.ENRR",
            "indicator_name": "School enrollment, tertiary (% gross)",
            "value": "35.085490",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.SEC.ENRR",
            "indicator_name": "School enrollment, secondary (% gross)",
            "value": "102.968361",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "162.249000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.EXP.GNFS.ZS",
            "indicator_name": "Exports of goods and services (% of GDP)",
            "value": "68.598413",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.IMP.GNFS.ZS",
            "indicator_name": "Imports of goods and services (% of GDP)",
            "value": "31.615234",
            "year": 2022,
            "country_code": "QAT"
          }
        ],
        "rag": [
          [
            "<src.qnwis.rag.retriever.Document object at 0x000002172C13BF50>",
            0.5822802186012268
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217812FA050>",
            0.5061696767807007
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021781532550>",
            0.46471092104911804
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021722D281D0>",
            0.3158503770828247
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217815F4650>",
            0.2991689443588257
          ]
        ],
        "apis": [],
        "error": "cannot import name 'PrefetchLayer' from 'src.qnwis.orchestration.prefetch_apis' (D:\\lmis_int\\src\\qnwis\\orchestration\\prefetch_apis.py)"
      },
      "accuracy_score": 100.0,
      "passed": true,
      "details": {
        "matched": [
          {
            "fact": "gdp_current_usd",
            "expected": 219000000000,
            "actual": 217982967032.967,
            "deviation_pct": 0.4643986150835568
          }
        ],
        "mismatched": [],
        "missing": []
      },
      "error": null,
      "timestamp": "2025-11-25T16:37:48.590598"
    },
    {
      "test_name": "economy_gdp_per_capita_extraction",
      "domain": "economy",
      "query": "What is Qatar's GDP per capita?",
      "expected_facts": [
        "gdp_per_capita"
      ],
      "extracted_facts": {
        "world_bank": [],
        "postgres": [
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.308000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.358000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "149537.835903",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "217982967032.967000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "2.768414",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "76275.907678",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "58.489800",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.911819",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.288862",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "0.211101",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2857822.000000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.387000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.126000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.468000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.588000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.257000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.436000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "156590.562788",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "213002809340.659000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "1.187160",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "80195.874651",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "60.368051",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.280617",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.292779",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "82.368000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "157.821000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "-0.222615",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2656032.000000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.354000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.130000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.550000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.599000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.540000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.461000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "154792.910814",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "235709325714.286000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "4.185010",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "88701.463352",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "65.348899",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "38.541436",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.256560",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SH.XPD.CHEX.GD.ZS",
            "indicator_name": "Current health expenditure (% of GDP)",
            "value": "2.181123",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "81.857000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.TER.ENRR",
            "indicator_name": "School enrollment, tertiary (% gross)",
            "value": "35.085490",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.SEC.ENRR",
            "indicator_name": "School enrollment, secondary (% gross)",
            "value": "102.968361",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "162.249000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.EXP.GNFS.ZS",
            "indicator_name": "Exports of goods and services (% of GDP)",
            "value": "68.598413",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.IMP.GNFS.ZS",
            "indicator_name": "Imports of goods and services (% of GDP)",
            "value": "31.615234",
            "year": 2022,
            "country_code": "QAT"
          }
        ],
        "rag": [
          [
            "<src.qnwis.rag.retriever.Document object at 0x000002172C13BF50>",
            0.5681613683700562
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217812FA050>",
            0.5291497111320496
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021781532550>",
            0.45194798707962036
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021722D281D0>",
            0.3308976888656616
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217815F4650>",
            0.3173336982727051
          ]
        ],
        "apis": [],
        "error": "cannot import name 'PrefetchLayer' from 'src.qnwis.orchestration.prefetch_apis' (D:\\lmis_int\\src\\qnwis\\orchestration\\prefetch_apis.py)"
      },
      "accuracy_score": 0.0,
      "passed": false,
      "details": {
        "matched": [],
        "mismatched": [
          {
            "fact": "gdp_per_capita",
            "expected": 87660,
            "actual": 76275.907678,
            "deviation_pct": 12.98664421857175,
            "tolerance": 5.0
          }
        ],
        "missing": []
      },
      "error": null,
      "timestamp": "2025-11-25T16:37:48.660663"
    },
    {
      "test_name": "health_life_expectancy_extraction",
      "domain": "health",
      "query": "What is life expectancy in Qatar?",
      "expected_facts": [
        "life_expectancy"
      ],
      "extracted_facts": {
        "world_bank": [],
        "postgres": [
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.308000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.358000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "149537.835903",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "217982967032.967000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "2.768414",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "76275.907678",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "58.489800",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.911819",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.288862",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "0.211101",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2857822.000000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.387000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.126000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.468000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.588000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.257000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.436000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "156590.562788",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "213002809340.659000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "1.187160",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "80195.874651",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "60.368051",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.280617",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.292779",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "82.368000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "157.821000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "-0.222615",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2656032.000000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.354000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.130000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.550000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.599000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.540000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.461000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "154792.910814",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "235709325714.286000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "4.185010",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "88701.463352",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "65.348899",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "38.541436",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.256560",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SH.XPD.CHEX.GD.ZS",
            "indicator_name": "Current health expenditure (% of GDP)",
            "value": "2.181123",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "81.857000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.TER.ENRR",
            "indicator_name": "School enrollment, tertiary (% gross)",
            "value": "35.085490",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.SEC.ENRR",
            "indicator_name": "School enrollment, secondary (% gross)",
            "value": "102.968361",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "162.249000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.EXP.GNFS.ZS",
            "indicator_name": "Exports of goods and services (% of GDP)",
            "value": "68.598413",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.IMP.GNFS.ZS",
            "indicator_name": "Imports of goods and services (% of GDP)",
            "value": "31.615234",
            "year": 2022,
            "country_code": "QAT"
          }
        ],
        "rag": [
          [
            "<src.qnwis.rag.retriever.Document object at 0x000002172C13BF50>",
            0.5166745185852051
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021781532550>",
            0.4805104732513428
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217812FA050>",
            0.41056981682777405
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217815F4650>",
            0.26157450675964355
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021722D281D0>",
            0.2140609323978424
          ]
        ],
        "apis": [],
        "error": "cannot import name 'PrefetchLayer' from 'src.qnwis.orchestration.prefetch_apis' (D:\\lmis_int\\src\\qnwis\\orchestration\\prefetch_apis.py)"
      },
      "accuracy_score": 100.0,
      "passed": true,
      "details": {
        "matched": [
          {
            "fact": "life_expectancy",
            "expected": 82.4,
            "actual": 82.368,
            "deviation_pct": 0.038834951456323645
          }
        ],
        "mismatched": [],
        "missing": []
      },
      "error": null,
      "timestamp": "2025-11-25T16:37:48.728977"
    },
    {
      "test_name": "demographics_population_extraction",
      "domain": "demographics",
      "query": "What is Qatar's population?",
      "expected_facts": [
        "total_population"
      ],
      "extracted_facts": {
        "world_bank": [],
        "postgres": [
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.308000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.358000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "149537.835903",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "217982967032.967000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "2.768414",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "76275.907678",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "58.489800",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.911819",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.288862",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "0.211101",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2857822.000000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.387000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.126000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.468000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.588000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.257000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.436000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "156590.562788",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "213002809340.659000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "1.187160",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "80195.874651",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "60.368051",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.280617",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.292779",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "82.368000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "157.821000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "-0.222615",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2656032.000000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.354000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.130000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.550000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.599000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.540000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.461000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "154792.910814",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "235709325714.286000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "4.185010",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "88701.463352",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "65.348899",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "38.541436",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.256560",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SH.XPD.CHEX.GD.ZS",
            "indicator_name": "Current health expenditure (% of GDP)",
            "value": "2.181123",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "81.857000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.TER.ENRR",
            "indicator_name": "School enrollment, tertiary (% gross)",
            "value": "35.085490",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.SEC.ENRR",
            "indicator_name": "School enrollment, secondary (% gross)",
            "value": "102.968361",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "162.249000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.EXP.GNFS.ZS",
            "indicator_name": "Exports of goods and services (% of GDP)",
            "value": "68.598413",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.IMP.GNFS.ZS",
            "indicator_name": "Imports of goods and services (% of GDP)",
            "value": "31.615234",
            "year": 2022,
            "country_code": "QAT"
          }
        ],
        "rag": [
          [
            "<src.qnwis.rag.retriever.Document object at 0x000002172C13BF50>",
            0.5569591522216797
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217812FA050>",
            0.5252174735069275
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021781532550>",
            0.4719090461730957
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217815F4650>",
            0.2613121271133423
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021722D281D0>",
            0.17936164140701294
          ]
        ],
        "apis": [],
        "error": "cannot import name 'PrefetchLayer' from 'src.qnwis.orchestration.prefetch_apis' (D:\\lmis_int\\src\\qnwis\\orchestration\\prefetch_apis.py)"
      },
      "accuracy_score": 100.0,
      "passed": true,
      "details": {
        "matched": [
          {
            "fact": "total_population",
            "expected": 2900000,
            "actual": 2857822.0,
            "deviation_pct": 1.4544137931034482
          }
        ],
        "mismatched": [],
        "missing": []
      },
      "error": null,
      "timestamp": "2025-11-25T16:37:48.797146"
    },
    {
      "test_name": "cross_domain_extraction",
      "domain": "cross_domain",
      "query": "Analyze Qatar's economic performance and labor market",
      "expected_facts": [
        "gdp_current_usd",
        "unemployment_rate"
      ],
      "extracted_facts": {
        "world_bank": [],
        "postgres": [
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.308000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.358000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "149537.835903",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "217982967032.967000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "2.768414",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "76275.907678",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "58.489800",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.911819",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.288862",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "0.211101",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2857822.000000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.387000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.126000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.468000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.588000",
            "year": 2024,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.257000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.436000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "156590.562788",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "213002809340.659000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "1.187160",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "80195.874651",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "60.368051",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "45.280617",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.292779",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "82.368000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "157.821000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "BX.KLT.DINV.WD.GD.ZS",
            "indicator_name": "Foreign direct investment, net inflows (% of GDP)",
            "value": "-0.222615",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.POP.TOTL",
            "indicator_name": "Population, total",
            "value": "2656032.000000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.URB.TOTL.IN.ZS",
            "indicator_name": "Urban population (% of total population)",
            "value": "99.354000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.UEM.TOTL.ZS",
            "indicator_name": "Unemployment, total (% of labor force)",
            "value": "0.130000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.ZS",
            "indicator_name": "Labor force participation rate, total (% of population 15+)",
            "value": "87.550000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.MA.ZS",
            "indicator_name": "Labor force participation rate, male (% of male population 15+)",
            "value": "95.599000",
            "year": 2023,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.TLF.CACT.FE.ZS",
            "indicator_name": "Labor force participation rate, female (% of female population 15+)",
            "value": "63.540000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.EMP.TOTL.SP.ZS",
            "indicator_name": "Employment to population ratio, 15+, total (%)",
            "value": "87.461000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SL.GDP.PCAP.EM.KD",
            "indicator_name": "GDP per person employed (constant 2017 PPP $)",
            "value": "154792.910814",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.CD",
            "indicator_name": "GDP (current US$)",
            "value": "235709325714.286000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.MKTP.KD.ZG",
            "indicator_name": "GDP growth (annual %)",
            "value": "4.185010",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NY.GDP.PCAP.CD",
            "indicator_name": "GDP per capita (current US$)",
            "value": "88701.463352",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.IND.TOTL.ZS",
            "indicator_name": "Industry, value added (% of GDP)",
            "value": "65.348899",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.SRV.TOTL.ZS",
            "indicator_name": "Services, value added (% of GDP)",
            "value": "38.541436",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NV.AGR.TOTL.ZS",
            "indicator_name": "Agriculture, value added (% of GDP)",
            "value": "0.256560",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SH.XPD.CHEX.GD.ZS",
            "indicator_name": "Current health expenditure (% of GDP)",
            "value": "2.181123",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SP.DYN.LE00.IN",
            "indicator_name": "Life expectancy at birth, total (years)",
            "value": "81.857000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.TER.ENRR",
            "indicator_name": "School enrollment, tertiary (% gross)",
            "value": "35.085490",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "SE.SEC.ENRR",
            "indicator_name": "School enrollment, secondary (% gross)",
            "value": "102.968361",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.NET.USER.ZS",
            "indicator_name": "Individuals using the Internet (% of population)",
            "value": "99.652800",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "IT.CEL.SETS.P2",
            "indicator_name": "Mobile cellular subscriptions (per 100 people)",
            "value": "162.249000",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.EXP.GNFS.ZS",
            "indicator_name": "Exports of goods and services (% of GDP)",
            "value": "68.598413",
            "year": 2022,
            "country_code": "QAT"
          },
          {
            "indicator_code": "NE.IMP.GNFS.ZS",
            "indicator_name": "Imports of goods and services (% of GDP)",
            "value": "31.615234",
            "year": 2022,
            "country_code": "QAT"
          }
        ],
        "rag": [
          [
            "<src.qnwis.rag.retriever.Document object at 0x000002172C13BF50>",
            0.7138134241104126
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021781532550>",
            0.6560001969337463
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217812FA050>",
            0.5739600658416748
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x00000217815F4650>",
            0.4792272448539734
          ],
          [
            "<src.qnwis.rag.retriever.Document object at 0x0000021722D281D0>",
            0.46011999249458313
          ]
        ],
        "apis": [],
        "error": "cannot import name 'PrefetchLayer' from 'src.qnwis.orchestration.prefetch_apis' (D:\\lmis_int\\src\\qnwis\\orchestration\\prefetch_apis.py)"
      },
      "accuracy_score": 100.0,
      "passed": true,
      "details": {
        "economy": {
          "matched": [
            {
              "fact": "gdp_current_usd",
              "expected": 219000000000,
              "actual": 217982967032.967,
              "deviation_pct": 0.4643986150835568
            }
          ],
          "mismatched": [],
          "missing": []
        },
        "labor": {
          "matched": [
            {
              "fact": "unemployment_rate",
              "expected": 0.1,
              "actual": 0.126,
              "deviation_pct": 25.999999999999996
            }
          ],
          "mismatched": [],
          "missing": []
        }
      },
      "error": null,
      "timestamp": "2025-11-25T16:37:48.865631"
    },
    {
      "test_name": "source_postgres_queried",
      "domain": "infrastructure",
      "query": "What is Qatar's unemployment rate?",
      "expected_facts": [
        "postgres_data"
      ],
      "extracted_facts": {
        "postgres_rows": 50
      },
      "accuracy_score": 100,
      "passed": true,
      "details": {},
      "error": null,
      "timestamp": "2025-11-25T16:37:48.931915"
    },
    {
      "test_name": "source_rag_queried",
      "domain": "infrastructure",
      "query": "What is Qatar's Vision 2030 labor market strategy?",
      "expected_facts": [
        "rag_context"
      ],
      "extracted_facts": {
        "rag_results": 5
      },
      "accuracy_score": 100,
      "passed": true,
      "details": {},
      "error": null,
      "timestamp": "2025-11-25T16:37:48.999269"
    },
    {
      "test_name": "consistency_unemployment",
      "domain": "consistency",
      "query": "[\"What is Qatar's unemployment rate?\", 'Qatar joblessness statistics', 'Labor market unemployment in Qatar']",
      "expected_facts": [
        "consistent_unemployment"
      ],
      "extracted_facts": {
        "values": [
          0.126,
          0.126,
          0.126
        ]
      },
      "accuracy_score": 100,
      "passed": true,
      "details": {
        "deviation_pct": 0.0
      },
      "error": null,
      "timestamp": "2025-11-25T16:37:49.196668"
    }
  ]
}