{
  "metadata": {
    "start_time": "2025-11-25T16:28:12.483929",
    "quick_mode": false,
    "domain_filter": null,
    "end_time": "2025-11-25T16:30:06.768892"
  },
  "test_suites": {
    "API Accuracy": {
      "passed": 0,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 0,
      "return_code": 1,
      "output_preview": "============================= test session starts =============================\ncollected 17 items\n\ntests\\ab_testing\\test_api_accuracy.py FFFFFFFssssssss..                  [100%]\n\n================================== FAILURES ===================================\n________________ TestWorldBankAPI.test_qatar_unemployment_rate ________________\ntests\\ab_testing\\test_api_accuracy.py:133: in test_qatar_unemployment_rate\n    if result and len(result) > 0:\n                  ^^^^^^^^^^^\nE   TypeError: object of type 'coroutine' has no len()\n\nDuring handling of the above exception, another exception occurred:\ntests\\ab_testing\\test_api_accuracy.py:191: in test_qatar_unemployment_rate\n    pytest.fail(f\"API error: {e}\")\nE   Failed: API error: object of type 'coroutine' has no len()\n_______________________ TestWorldBankAPI.test_qatar_gdp _______________________\ntests\\ab_testing\\test_api_accuracy.py:204: in test_qatar_gdp\n    if result and len(result) > 0:\n                  ^^^^^^^^^^^\nE   TypeError: object of type 'coroutine' has no len()\n\nDuring handling of the above exception, another exception occurred:\ntests\\ab_testing\\test_api_accuracy.py:248: in test_qatar_gdp\n    pytest.fail(f\"API error: {e}\")\nE   Failed: API error: object of type 'coroutine' has no len()\n_________________ TestWorldBankAPI.test_qatar_life_expectancy _________________\ntests\\ab_testing\\test_api_accuracy.py:261: in test_qatar_life_expectancy\n    if result and len(result) > 0:\n                  ^^^^^^^^^^^\nE   TypeError: object of type 'coroutine' has no len()\n\nDuring handling of the above exception, another exception occurred:\ntests\\ab_testing\\test_api_accuracy.py:293: in test_qatar_life_expectancy\n    pytest.fail(f\"API error: {e}\")\nE   Failed: API error: object of type 'coroutine' has no len()\n____________ TestWorldBankAPI.test_qatar_labor_force_participation ____________\ntests\\ab_testing\\test_api_accuracy.py:306: in test_qatar_labor_force_participation\n    if result and len(result) > 0:\n                  ^^^^"
    },
    "PostgreSQL Accuracy": {
      "passed": 0,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 0,
      "return_code": 1,
      "output_preview": "============================= test session starts =============================\ncollected 15 items\n\ntests\\ab_testing\\test_postgres_accuracy.py ....F..........               [100%]\n\n================================== FAILURES ===================================\n______ TestWorldBankIndicatorsTable.test_qatar_life_expectancy_accuracy _______\ntests\\ab_testing\\test_postgres_accuracy.py:319: in test_qatar_life_expectancy_accuracy\n    assert passed\nE   assert False\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.11.8-final-0 _______________\n\nName                                           Stmts   Miss  Cover   Missing\n----------------------------------------------------------------------------\nsrc\\qnwis\\data\\api\\__init__.py                     3      3     0%   8-20\nsrc\\qnwis\\data\\api\\aliases.py                      2      2     0%   8-11\nsrc\\qnwis\\data\\api\\client.py                     177    177     0%   9-592\nsrc\\qnwis\\data\\api\\models.py                      37     37     0%   8-77\nsrc\\qnwis\\data\\cache\\__init__.py                   0      0   100%\nsrc\\qnwis\\data\\cache\\backends.py                  46     46     0%   3-98\nsrc\\qnwis\\data\\catalog\\__init__.py                 0      0   100%\nsrc\\qnwis\\data\\catalog\\registry.py                29     29     0%   3-40\nsrc\\qnwis\\data\\derived\\__init__.py                 0      0   100%\nsrc\\qnwis\\data\\derived\\metrics.py                 74     74     0%   9-180\nsrc\\qnwis\\data\\deterministic\\__init__.py           4      4     0%   8-12\nsrc\\qnwis\\data\\deterministic\\access.py            38     38     0%   1-74\nsrc\\qnwis\\data\\deterministic\\cache_access.py     183    183     0%   3-354\nsrc\\qnwis\\data\\deterministic\\engine.py            20     20     0%   7-64\nsrc\\qnwis\\data\\deterministic\\models.py            54     54     0%   1-78\nsrc\\qnwis\\data\\deterministic\\normalize.py         45     45     0%   8-107\nsrc\\qnwis\\data\\deterministic\\postprocess.py       22   "
    },
    "Knowledge Graph & RAG": {
      "passed": 0,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 0,
      "return_code": 0,
      "output_preview": "============================= test session starts =============================\ncollected 19 items\n\ntests\\ab_testing\\test_knowledge_graph_accuracy.py .ssssss............    [100%]\n\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.11.8-final-0 _______________\n\nName                                           Stmts   Miss  Cover   Missing\n----------------------------------------------------------------------------\nsrc\\qnwis\\data\\api\\__init__.py                     3      3     0%   8-20\nsrc\\qnwis\\data\\api\\aliases.py                      2      2     0%   8-11\nsrc\\qnwis\\data\\api\\client.py                     177    177     0%   9-592\nsrc\\qnwis\\data\\api\\models.py                      37     37     0%   8-77\nsrc\\qnwis\\data\\cache\\__init__.py                   0      0   100%\nsrc\\qnwis\\data\\cache\\backends.py                  46     46     0%   3-98\nsrc\\qnwis\\data\\catalog\\__init__.py                 0      0   100%\nsrc\\qnwis\\data\\catalog\\registry.py                29     29     0%   3-40\nsrc\\qnwis\\data\\derived\\__init__.py                 0      0   100%\nsrc\\qnwis\\data\\derived\\metrics.py                 74     74     0%   9-180\nsrc\\qnwis\\data\\deterministic\\__init__.py           4      4     0%   8-12\nsrc\\qnwis\\data\\deterministic\\access.py            38     38     0%   1-74\nsrc\\qnwis\\data\\deterministic\\cache_access.py     183    183     0%   3-354\nsrc\\qnwis\\data\\deterministic\\engine.py            20     20     0%   7-64\nsrc\\qnwis\\data\\deterministic\\models.py            54     54     0%   1-78\nsrc\\qnwis\\data\\deterministic\\normalize.py         45     45     0%   8-107\nsrc\\qnwis\\data\\deterministic\\postprocess.py       22     22     0%   7-62\nsrc\\qnwis\\data\\deterministic\\registry.py          66     66     0%   1-121\nsrc\\qnwis\\data\\deterministic\\schema.py            49     49     0%   7-115\nsrc\\qnwis\\data\\freshness\\__init__.py               0      0   100%\nsrc\\qnwis\\data\\freshness\\verifier.py          "
    },
    "Data Extraction": {
      "passed": 0,
      "failed": 0,
      "skipped": 0,
      "errors": 2,
      "total": 2,
      "return_code": 2,
      "output_preview": "============================= test session starts =============================\ncollected 0 items / 1 error\n\n=================================== ERRORS ====================================\n________ ERROR collecting tests/ab_testing/test_extraction_accuracy.py ________\nC:\\Users\\admin-salim\\AppData\\Roaming\\Python\\Python311\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\admin-salim\\AppData\\Roaming\\Python\\Python311\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python311\\Lib\\importlib\\__init__.py:126: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1204: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1176: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1147: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:690: in _load_unlocked\n    ???\nC:\\Users\\admin-salim\\AppData\\Roaming\\Python\\Python311\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\admin-salim\\AppData\\Roaming\\Python\\Python311\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python311\\Lib\\ast.py:50: in parse\n    return compile(source, filename, mode, flags,\nE     File \"D:\\lmis_int\\tests\\ab_testing\\test_extraction_accuracy.py\", line 670\nE       (test.get('error', f'Accuracy: {test['accuracy_score']:.0f}%'))\nE                                             ^^^^^^^^^^^^^^\nE   SyntaxError: f-string: f-string: unmatched '['\n=========================== short test summary info ===========================\nERROR tests/ab_testing/test_extraction_accuracy.py\n!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!"
    },
    "Integration Tests": {
      "passed": 0,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 0,
      "return_code": 0,
      "output_preview": "============================= test session starts =============================\ncollected 11 items\n\ntests\\integration\\test_data_accuracy.py ...........                      [100%]\n\n============================== warnings summary ===============================\ntests/integration/test_data_accuracy.py::TestKnowledgeGraph::test_graph_has_qatar_entities\ntests/integration/test_data_accuracy.py::TestKnowledgeGraph::test_graph_has_relationships\n  C:\\Users\\admin-salim\\AppData\\Roaming\\Python\\Python311\\site-packages\\networkx\\readwrite\\json_graph\\node_link.py:290: FutureWarning: \n  The default value will be changed to `edges=\"edges\" in NetworkX 3.6.\n  \n  To make this warning go away, explicitly set the edges kwarg, e.g.:\n  \n    nx.node_link_graph(data, edges=\"links\") to preserve current behavior, or\n    nx.node_link_graph(data, edges=\"edges\") for forward compatibility.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=============================== tests coverage ================================\n_______________ coverage: platform win32, python 3.11.8-final-0 _______________\n\nName                                           Stmts   Miss Branch BrPart  Cover   Missing\n------------------------------------------------------------------------------------------\nsrc\\qnwis\\data\\api\\__init__.py                     3      3      0      0     0%   8-20\nsrc\\qnwis\\data\\api\\aliases.py                      2      2      0      0     0%   8-11\nsrc\\qnwis\\data\\api\\client.py                     177    177     40      0     0%   9-592\nsrc\\qnwis\\data\\api\\models.py                      37     37      0      0     0%   8-77\nsrc\\qnwis\\data\\cache\\__init__.py                   0      0      0      0   100%\nsrc\\qnwis\\data\\cache\\backends.py                  46     46      8      0     0%   3-98\nsrc\\qnwis\\data\\catalog\\__init__.py                 0      0      0      0   100%\nsrc\\qnwis\\data\\catalog\\registry.py                29     29     10      0     0%   3-40\nsrc"
    }
  },
  "overall_summary": {
    "total_tests": 2,
    "passed": 0,
    "failed": 0,
    "skipped": 0,
    "errors": 2,
    "accuracy_pct": 0.0,
    "duration_seconds": 114.284963
  },
  "infrastructure": {
    "ground_truth": {
      "domains": 9,
      "total_indicators": 34,
      "coverage": {
        "labor": {
          "indicators": [
            "unemployment_rate",
            "labor_force_participation",
            "employment_to_population_ratio",
            "qatarization_target_overall",
            "total_workforce",
            "expatriate_ratio"
          ],
          "count": 6
        },
        "economy": {
          "indicators": [
            "gdp_current_usd",
            "gdp_per_capita",
            "gdp_growth_rate",
            "industry_pct_gdp",
            "services_pct_gdp",
            "fdi_net_inflows_pct_gdp"
          ],
          "count": 6
        },
        "health": {
          "indicators": [
            "life_expectancy",
            "health_expenditure_pct_gdp",
            "hospital_beds_per_1000"
          ],
          "count": 3
        },
        "education": {
          "indicators": [
            "tertiary_enrollment_rate",
            "education_spending_pct_gdp",
            "literacy_rate"
          ],
          "count": 3
        },
        "trade": {
          "indicators": [
            "exports_pct_gdp",
            "imports_pct_gdp",
            "trade_balance_surplus",
            "lng_export_capacity"
          ],
          "count": 4
        },
        "energy": {
          "indicators": [
            "oil_production",
            "natural_gas_production",
            "co2_emissions_per_capita",
            "electricity_consumption_per_capita"
          ],
          "count": 4
        },
        "demographics": {
          "indicators": [
            "total_population",
            "urban_population_pct",
            "median_age"
          ],
          "count": 3
        },
        "tourism": {
          "indicators": [
            "international_arrivals",
            "tourism_receipts"
          ],
          "count": 2
        },
        "finance": {
          "indicators": [
            "inflation_rate",
            "current_account_balance_pct_gdp",
            "government_debt_pct_gdp"
          ],
          "count": 3
        }
      }
    },
    "database": {
      "connected": true,
      "tables": [
        "employment_records",
        "ilo_labour_data",
        "gcc_labour_statistics",
        "vision_2030_targets",
        "world_bank_indicators",
        "qatar_open_data",
        "query_audit_log",
        "data_freshness_log",
        "schema_version",
        "fao_data",
        "document_embeddings"
      ],
      "row_counts": {
        "world_bank_indicators": 2431,
        "ilo_labour_data": 6,
        "gcc_labour_statistics": 6
      }
    },
    "apis": {
      "world_bank": "available",
      "arab_dev_portal": "available",
      "escwa_trade": "available"
    }
  }
}