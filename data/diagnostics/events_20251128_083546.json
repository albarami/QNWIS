[
  {
    "stage": "classify",
    "status": "running",
    "payload": {
      "message": "Analyzing query complexity..."
    },
    "latency_ms": null
  },
  {
    "stage": "classify",
    "status": "complete",
    "payload": {
      "complexity": "complex",
      "reasoning": [
        "Query classified as: complex"
      ]
    },
    "latency_ms": null
  },
  {
    "stage": "prefetch",
    "status": "running",
    "payload": {
      "message": "Processing prefetch..."
    },
    "latency_ms": null
  },
  {
    "stage": "feasibility_check",
    "status": "running",
    "payload": {
      "query": "\nQatar must accelerate Qatarization while maintaining economic competitiveness.\nThe Ministry of Labour is considering two approaches.\n\nOption A: Aggressive Quota Enforcement\n- Mandate 50% Qatari workforce in all companies >100 employees\n- Heavy fines for non-compliance (QAR 50,000/month per missing Qatari)\n- Timeline: Full compliance within 3 years\n- Government salary subsidies for first 2 years\n\nOption B: Incentive-Based Transformation\n- Tax benefits for companies exceeding Qatarization targets\n- Government-funded training programs (2-year bootcamps)\n- Gradual targets: 20% by 2025, 35% by 2030, 50% by 2035\n- Public recognition and procurement preferences\n\nCurrent Context:\n- Qataris: 12% of total population (350,000 of 2.9 million)\n- Qataris in private sector: 6% of private workforce\n- Qatari unemployment: 0.5% (effectively full employment)\n- Average Qatari salary expectations: 3-4x expatriate equivalent\n- Skills gap in technical and vocational roles\n- Public sector employs 85% of working Qataris\n\nWhich approach should Qatar implement? Analyze:\n1. Impact on business competitiveness\n2. Realistic Qatari labor supply vs demand\n3. Skills development timeline\n4. Social and economic risks\n5. International perception and investor confidence\n"
    },
    "latency_ms": null
  },
  {
    "stage": "feasibility_check",
    "status": "complete",
    "payload": {
      "verdict": {
        "option_a": "INFEASIBLE",
        "option_b": "INFEASIBLE"
      }
    },
    "latency_ms": null
  },
  {
    "stage": "feasibility_gate",
    "status": "complete",
    "payload": {},
    "latency_ms": null
  },
  {
    "stage": "error",
    "status": "error",
    "payload": {
      "error": "DATABASE_URL environment variable must be set"
    },
    "latency_ms": null
  },
  {
    "stage": "meta_synthesis",
    "status": "complete",
    "payload": {
      "meta_synthesis": "",
      "final_synthesis": "",
      "stats": {
        "n_facts": 0,
        "n_sources": 0,
        "n_scenarios": 6,
        "n_turns": 0,
        "n_experts": 6,
        "n_challenges": 0,
        "n_consensus": 0,
        "n_critiques": 0,
        "n_red_flags": 0,
        "avg_confidence": 75
      },
      "confidence": 0.0
    },
    "latency_ms": null
  },
  {
    "stage": "synthesize",
    "status": "complete",
    "payload": {
      "text": "",
      "final_synthesis": "",
      "stats": {
        "n_facts": 0,
        "n_sources": 0,
        "n_scenarios": 6,
        "n_turns": 0,
        "n_experts": 6,
        "n_challenges": 0,
        "n_consensus": 0,
        "n_critiques": 0,
        "n_red_flags": 0,
        "avg_confidence": 75
      },
      "confidence": 0.0,
      "word_count": 0
    },
    "latency_ms": null
  },
  {
    "stage": "done",
    "status": "complete",
    "payload": {
      "confidence": 0.0,
      "warnings": [],
      "errors": [],
      "final_synthesis": "",
      "meta_synthesis": "",
      "summary": "",
      "text": "",
      "stats": {
        "n_facts": 0,
        "n_sources": 0,
        "n_scenarios": 6,
        "n_turns": 0,
        "n_experts": 6,
        "n_challenges": 0,
        "n_consensus": 0,
        "n_critiques": 0,
        "n_red_flags": 0,
        "avg_confidence": 75
      },
      "extracted_facts": [],
      "word_count": 0
    },
    "latency_ms": null
  }
]